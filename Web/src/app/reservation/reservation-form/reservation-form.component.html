<p-toast></p-toast>

<h1>Reservar</h1>

<form
  action=""
  method="post"
  [formGroup]="form"
  (ngSubmit)="checkAvailability()"
>
  <div class="input-wrapper">
    <div class="input">
      <label for="room">Sala</label>
      <input pInputText type="text" id="room" formControlName="room" />
    </div>

    <div class="input" *ngIf="showDropdown">
      <label for="seat_id">Puesto</label>
      <p-dropdown
        [options]="seats"
        [(ngModel)]="selectedSeat"
        optionLabel="name"
        [showClear]="false"
        placeholder="Selecciona un puesto"
        id="seat_id"
        formControlName="seat_id"
        (onChange)="onChangeDropdown($event)"
      ></p-dropdown>
    </div>

    <div class="input checkbox" *ngIf="showCheckbox">
      <p-checkbox
        formControlName="whole_room"
        value="Whole room"
        inputId="whole_room"
        [(ngModel)]="isChecked"
        [binary]="true"
        [disabled]="isDisabled"
        (onChange)="checkbox($event)"
      ></p-checkbox>
      <label for="whole_room">Reservar toda la sala</label>
    </div>

    <div class="input">
      <label for="date">Fecha</label>
      <p-calendar
        [minDate]="minDate"
        [iconDisplay]="'input'"
        [showIcon]="true"
        inputId="icondisplay"
        placeholder="Selecciona una fecha"
        id="date"
        formControlName="date"
        [disabledDays]="[0, 6]"
        [disabledDates]="reservationType === 3 ? [] : disabledDates"
      />
    </div>
  </div>

  <div class="buttons">
    <p-button
      type="submit"
      severity="success"
      [disabled]="form.invalid"
      label="Reservar"
    ></p-button>
    <p-button type="button" label="Volver" routerLink="/rooms"></p-button>
  </div>
</form>
